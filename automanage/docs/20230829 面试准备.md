# 面试准备

## 0x01 初级

### 0x01x000 打点一般会用什么漏洞

- Java 反序列化：Shiro、Fastjson、Weblogic；
- CMS/OA：用友
- Java Web 程序一般高权限有限运行，部分可能降权；

### 0x01x001 Shiro 有几种漏洞，如何发现

- Shiro 550、Shiro 721
- 登录失败会返回rememberMe=deleteMe 字段；

  - 未登录：请求包Cookie 中无rememberMe 字段，返回包Set-Cookie 无deleteMe 字段；
  - 登录失败：无论是否勾选rememberMe 字段，返回包都无rememberMe=deleteMe 字段；
  - 不勾选rememberMe 字段，登录成功：返回包Set-Cookie 有rememberMe=deleteMe 字段，但之后所有请求中Cookie 都无rememberMe 字段；
  - 勾选rememberMe 字段，登录成功：返回包Set-Cookie 有rememberMe=deleteMe 字段，有rememberMe 字段，之后所有请求中Cookie 都有rememberMe 字段；
- 使用ShiroScan 等工具被动扫描

### 0x01x002 [Weblogic 漏洞](https://blog.csdn.net/weixin_45728976/article/details/109512848)

- 种类：

  - 基于T3 协议的反序列化；
  - 基于XML 解析时构造的反序列化；
  - SSRF、权限绕过；
- 权限绕过：使用./ 绕过
- (CVE-2020-14882)：未授权，权限绕过
- (CVE-2020-14883) 利用方式

  - com.tangosol.coherence.mvel2.sh.ShellSession + 通过URL 访问执行命令；要求版本 12.2.1 +，10.3.6 版本不存在该类
  - com.bea.core.repackaged.springframework.context.support.FileSystemXmlApplicationContext + XML 文件(SSRF)
- (CVE-2019-2725)

### 0x01x003 [Fastjson 漏洞](https://www.cnblogs.com/hac425/p/9800288.html)

- 利用原理：请求包中发送恶意json 格式payload，站点在处理json 对象时未对@type 字段进行过滤，导致攻击者可传入恶意TemplatesImpl 类，部分函数会根据该类中字段_bytecodes 生成Java 实例，即Fastjson 通过字段传入类，由类被生成时执行构造函数

### 0x01x004 IIOP 是什么，和什么类似

- Java 通信，即远程方法调用，默认使用JRMP 协议，亦可选择IIOP；

### 0x01x005 漏洞不出网该如何

- 漏洞回显；

### 0x01x006 拿到webshell 不出网该如何

- reg 上传正向连接；
- 探测出网协议，如DNS，ICMP；
  - DNS 出网协议如何利用：将域名解析指向自己的VPS，然后设置NS 记录等；

### 0x01x007 横向渗透命令执行手段

- psexec：会记录大量日志；
- wmic：不会记录日志，更为隐蔽；
- smbexec
- net use 共享 + 计划任务 + type 命令；

### 0x01x008 [DCOM 如何操作](http://www.taodudu.cc/news/show-3686436.html?action=onClick)

- 通过powershell 执行命令

### 0x01x009 抓取密码如何操作，抓不到密码如何操作

- procdump + mimikatz 转储，然后mimikatz 离线读取；
- sam 获取，然后离线读取；
  - Windows Server 2012 版本后抓不到密码；
- 抓不到密码操作：
  - 翻阅文件查找运维等等是否记录密码；
  - hash 传递；
  - 获取浏览器账号密码；

### 0x01x010 域内攻击方法有哪些

### 0x01x011 桌面有管理员会话，如何劫持会话

- 提权到system 权限，然后工具劫持任何处于已登录用户的会话，无需获得该用户登录凭证；
- 中高端服务会话可以是连接状态或未连接状态；

## 0x00 基础

### 0x00x000 不提供工具，如何进行 webshell 查杀

- cat/grep/awk 等命令查看日志、手工检索/分析可疑文件；
- top/ps/netstat 等命令查看进程、网络状况追溯恶意进程/攻击IP；
- 排查开机启动项、计划任务(/etc/crontab)、日志(lastlog)、可疑用户等；
- 

### 0x00x002 应急响应流程

- 准备阶段：预案；
- 排查思路：产生异常时间、通过现象判断类型；
- 检查账户、网络连接、进程、日志信息、系统启动项等；
- 

1. 查看告警信息，初步判断是否为真实攻击行为，确认同时断网和给研判组研判；
2. 查看日志寻找可疑操作行为和 webshell 文件，使用查杀工具查杀；
3. 恢复资产正常过业务；
4. 总结过程，输出报告；

### 0x00x003 什么时同源策略

- 同协议、端口、域名，可共享Cookie，提高用户体验性；

### 0x00x005 常见逻辑漏洞

- 验证码相关：重复利用、验证码无效等；
- 越权漏洞：

### 0x00x006 对于越权类型，如何判断越权

- 类型：水平越权、垂直越权；
- 如何判断：修改参数值，id 为0 或1，admin 为true 或false 等；

### 0x00x011 安全设备

- 入侵防御系统IPS、防火墙、数据库审计系统、日志审计系统、态势感知平台、WAF、蜜罐等；

### 0x00x012 说下反序列化漏洞

- 序列化：将对象转化为字节序列进行存储传输；
- 反序列化：将字节序列转化为对象便于程序间调用；
- PHP：(函数传参过程中未采用严格过滤措施，即可能受攻击者构造恶意代码序列化后调用造成反序列化漏洞)
  - 反序列化函数：unserialize()
  - 构造函数：_construct()
  - 析构函数：_destruct() / _wakeup() / _toString() / _sleep() 等

### 0x00x013 Redis 数据库漏洞

- Redis：非关系型数据库，默认端口6379；
- 常见漏洞：未授权访问，无需认证即可访问内部数据/getshell；

### 0x00x014 Log4j2 漏洞

- Apache 远程代码执行漏洞；
- 流量特征：JNDI rule1$(jndi:ldap://) rule2$(jndi:rmi://)；

### 0x00x015

### 0x00x016 E45 开头16 位md5 值 (可变，默认密码 Rebeyond 的md5)

### 0x00x021 对于安全设备告警事件如何判断是否为误报的方法与思路

- 看发生时间、告警内容特征、手动验证，根据告警信息查询、验证

### 0x00x022 加固方案

- 漏扫工具、加固脚本；
- 系统安全配置、中间件配置、网络规则配置；

### 0x00x023 报告思路

- 时间、地点、人物、源/目的IP、事件类型、漏洞类型、详细信息

### 0x00x024 linux md5 计算命令

- md5sum

### 0x00x025 大流量环境下，如何快速对报警进行判断

- 看时间、源目的资产是否异样

# x

**遇到那些框架**

**用 python 写过工具吗**

**python 用过那些框架**

**做过那些项目**

**有CNVD证书吗， 打过CTF吗 有排名吗**

**平时在哪里挖漏洞？都挖那些漏洞？挖了多久？主要挖那些类型的漏洞？有排名吗？**

**89- JNI 函数在 java 中函数名为 com.didi.security.main,C 中的函数名是什么样的？**

**90-Frida 和 Xposed 框架？**



**118-如何绕过 waf？**

**121-sql 如何写 shell/单引号被过滤怎么办**

**122-XSS 蠕虫的产生条件**

**123-常见的上传绕过方式.导致文件包含的函数**

**126-常用 WEB 开发 JAVA 框架**

**127-php 中命令执行涉及到的函数**

**128-宝塔禁止PHP函数如何绕过？**

**129-webshell有system权限但无法执行命令，怎么办？**

**130-说下strust2的漏洞利用原理？**

**131-php/java反序列化漏洞的原理?解决方案?**

**132-CRLF注入的原理**

**133-php的LFI，本地包含漏洞原理是什么？写一段带有漏洞的代码。手工的话如何发掘？如果无报错回显，你是怎么遍历文件的？**

# 二、内网

1. **dll 文件是什么意思，有什么用？**
2. **重要协议分布层**
3. **arp 协议的工作原理**
4. **rip 协议是什么？rip 的工作原理**
5. **什么是 RARP？工作原理**
6. **OSPF 协议？OSPF 的工作原理**
7. **TCP 与 UDP 区别总结**
8. **什么是三次握手四次挥手？**
9. **tcp 为什么要三次握手？**
10. **dns 是什么？dns 的工作原理**
11. **session 的工作原理？什么是 TCP 粘包/拆包？发生原因？解决方案**
12. **TCP 如何保证可靠传输？**
13. **TCP 对应的应用层协议，UDP 对应的应用层协议**
14. **什么是网络钓鱼？**
15. **0day 漏洞**
16. **Rootkit 是什么意思**
17. **蜜罐**
18. **震网病毒**
19. **NAT（网络地址转换）协议**
20. **内网穿透**
21. **虚拟专用网络**
22. **二层交换机**
23. **路由技术**
24. **三层交换机**
25. **IPv6 地址表示**
26. **内网渗透思路？**
27. **正向代理和反向代理的区别**
28. **Windows 常用的提权方法**
29. **用什么扫描端口，目录**
30. **清理日志要清理哪些(windows和linux)**
31. **go语言免杀shellcode如何免杀？免杀原理是什么？**
32. **windows defender防御机制原理，如何绕过？**
33. **卡巴斯基进程保护如何绕过进行进程迁移？**
34. **fastjson不出网如何利用？**
35. **工作组环境下如何进行渗透？详细说明渗透思路。**
36. **内存马的机制？**
37. **不出网有什么方法，正向shel l 方法除了reg之类的，还有什么？**
38. **什么是域内委派？利用要点？**
39. **shiro漏洞类型，721原理，721利用要注意什么？**
40. **hvv三大洞？**
41. **天擎终端防护如何绕过，绕过思路？**
42. **免杀木马的思路？**
43. **jsonp跨域的危害，cors跨域的危害？**
44. **说出印象比较深刻的一次外网打点进入内网？**
45. **rmi的利用原理？**
46. **域内的一个普通用户（非域用户）如何进行利用？**
47. **证书透明度的危害？**
48. **内网渗透降权的作用？**
49. **TrustedInstall权限的原理是什么？**
50. **2008的服务权限如何进行提权？**
51. **Windows UAC原理是什么？**
52. **Windows添加用户如何绕过火绒以及360？**
53. **如何伪造钓鱼邮箱？会面临什么问题？**
54. **烂土豆提权使用过吗？它的原理？**
55. **powershell免杀怎么制作？**
56. **提取内存hash被查杀，如何绕过？**
57. **分别说下linux、windows的权限维持？**
58. **如何开展红队工作？**
59. **如何把shellcode嵌入到正常exe中？**
60. **描述下Spring框架的几个漏洞？**

# 三、其他

1. **对称加密:加密解密用同一个密钥**
2. **非对称加密:公钥加密,私钥解密;公钥可以公开给别人进行加密,私钥永远在自己手里**
3. **SYN 攻击原理**
4. **什么是网络钓鱼？**
5. **什么是 CC 攻击？**
6. **Web 服务器被入侵后，怎样进行排查？**
7. **你获取网络安全知识途径有哪些？**
8. **DDOS**
9. **手工查找后门木马的小技巧**
10. **脱壳**
11. **“人肉搜索”**
12. **SYN Flood 的基本原理**
13. **什么是手机”越狱“**
14. **主机被入侵，你会如何处理这件事自查解决方案：**
15. **证书要考哪些？**
16. **宏病毒？**
17. **APP 加壳？**
18. **勒索软件 Wanacry 的特征？蠕虫、僵尸病毒**
19. **ARM32 位指令中，返回值和返回地址保存在哪个寄存器中？**
20. **Android APP 逆向分析步骤一般是怎么样的？**
21. **ddos 如何防护**
22. **有没有抓过包，会不会写 wireshark 过滤规则**
23. **如何加固一个域环境下的 Windows 桌面工作环境？请给出你的思路。**
24. **RSA 算法**
25. **AES／DES 的具体工作步骤**
26. **如何开展蓝队工作？**

## 二、什么是同源策略？

# 四、素质面：

## 1-自我介绍？

## 2-你愿意加班吗？

## 3-为什么投我们公司？

## 4-你觉得有哪些是你会别人不会的？

## 5-你最想在哪些城市发展？
